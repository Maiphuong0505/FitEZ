<div class="container my-3">

    <% @exercises.each_with_index do |exercise, i| %>

        <div class="d-flex flex-column flex-wrap card my-3 shadow p-3 mb-5 bg-body rounded" data-controller="display-toggle">
          <div class="mx-3 mt-0"><h3><%= exercise.name %></h3></div>
          <div class="d-flex flex-wrap align-items-center mx-3">
            <% unless exercise.execution.blank? %>
              <div class="d-flex justify-content-align-items-center col-12 col-lg-4 text-center p-3" style="background-color: #f8f9fa;">
                <%= cl_image_tag(exercise.photo.key,
                          class: "img-fluid",
                          style: "max-height: 180px; object-fit: contain; background-color: #f8f9fa;") %>
              </div>
              <div class="m-2 p-2 col-lg-7">
                <p><strong>Muscle Group</strong>
                <%= exercise.main_muscles%></p>
                <p><strong>Equipment</strong>
                <%= exercise.equipment%></p>
              </div>
            <% end %>
            <button type="button" class="btn btn-outline-warning my-3 rounded-pill px-3 py-2 me-2 fw-bold fs-6" data-action="click->display-toggle#fire">
                <i class="fa-solid fa-eye"></i> Exercise Details
            </button>

            <div data-display-toggle-target= "togglableElement" class="session-display d-none">
              <div class="exercise-details py-2 px-3">
                <% unless exercise.starting_position.blank?%>
                  <p><strong>Starting Position </strong>
                  <%= exercise.starting_position %></p>
                <% end %>
                <% unless exercise.execution.blank?%>
                  <p><strong>Execution </strong><%= exercise.execution %></p>
                <% end %>
              </div>
            </div>
          </div>
        </div>
    <% end %>
</div>
